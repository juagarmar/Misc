ActionScript 2.0: import flash.geom.Matrix; import flash.geom.Transform; import flash.geom.ColorTransform; var cameraTrans:Transform = new Transform(this); var stageTrans:Transform = new Transform(this._parent); var w:Number = Stage.width; var h:Number = Stage.height; this._visible = false; this.onEnterFrame = function () { this._parent.filters = this.filters; stageTrans.colorTransform = cameraTrans.colorTransform; var stageMatrix:Matrix = cameraTrans.matrix; stageMatrix.invert(); stageMatrix.translate(w*.5, h*.5); stageTrans.matrix = stageMatrix; }; ActionScript 3.0: var cameraTrans:Transform = new Transform(this); var stageTrans:Transform = new Transform(parent); visible = false; stage.addEventListener(Event.ENTER_FRAME, updateStage); function updateStage(...rest) { parent.filters = filters; stageTrans.colorTransform = cameraTrans.colorTransform; var stageMatrix:Matrix = cameraTrans.matrix; stageMatrix.invert(); stageMatrix.translate(stage.stageWidth*.5, stage.stageHeight*.5); stageTrans.matrix = stageMatrix; }; updateStage(); addEventListener(Event.REMOVED_FROM_STAGE, resetStage); function resetStage(...rest) { stage.removeEventListener(Event.ENTER_FRAME, updateStage); stageTrans.matrix = new Matrix(); stageTrans.colorTransform = new ColorTransform(); parent.filters = new Array(); }
https://www.youtube.com/watch?v=Np2LXXk-uHw
